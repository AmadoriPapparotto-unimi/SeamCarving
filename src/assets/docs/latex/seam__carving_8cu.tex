\hypertarget{seam__carving_8cu}{}\doxysection{seam\+\_\+carving.\+cu File Reference}
\label{seam__carving_8cu}\index{seam\_carving.cu@{seam\_carving.cu}}
{\ttfamily \#include \char`\"{}image\+\_\+handler.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}seam\+\_\+carving.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}math.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}utils.\+cuh\char`\"{}}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$iostream$>$}\newline
{\ttfamily \#include \char`\"{}cuda\+\_\+runtime.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}cuda\+\_\+runtime\+\_\+api.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}device\+\_\+launch\+\_\+parameters.\+h\char`\"{}}\newline
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\+\_\+\+\_\+device\+\_\+\+\_\+ char \mbox{\hyperlink{seam__carving_8cu_a332526b32e4e044c9caa489d01f08c1d}{get\+Position}} (int id, \mbox{\hyperlink{image__handler_8h_a3173789b5a5a8673b3025bd014732715}{img\+Prop\+\_\+t}} $\ast$img\+Prop)
\item 
\+\_\+\+\_\+device\+\_\+\+\_\+ void \mbox{\hyperlink{seam__carving_8cu_a279455946dd0389c203df8d18d07c84f}{calculate\+Energy}} (\mbox{\hyperlink{image__handler_8h_a6239917a28b62ca5e3c3cd981f41944c}{energy\+Pixel\+\_\+t}} $\ast$energy\+Pixel, \mbox{\hyperlink{image__handler_8h_a6239917a28b62ca5e3c3cd981f41944c}{energy\+Pixel\+\_\+t}} $\ast$pixel, int id, \mbox{\hyperlink{image__handler_8h_a3173789b5a5a8673b3025bd014732715}{img\+Prop\+\_\+t}} $\ast$img\+Prop)
\item 
\+\_\+\+\_\+device\+\_\+\+\_\+ int \mbox{\hyperlink{seam__carving_8cu_adf160247ac82ba2c9c7057c541287aa9}{min}} (int id1, int id2, \mbox{\hyperlink{image__handler_8h_a6239917a28b62ca5e3c3cd981f41944c}{energy\+Pixel\+\_\+t}} $\ast$energy\+Img)
\item 
\+\_\+\+\_\+global\+\_\+\+\_\+ void \mbox{\hyperlink{seam__carving_8cu_a7ff5c3644b62b996d372ab7017d5b88a}{energy\+Map\+\_\+}} (\mbox{\hyperlink{image__handler_8h_a6239917a28b62ca5e3c3cd981f41944c}{energy\+Pixel\+\_\+t}} $\ast$energy\+Img, \mbox{\hyperlink{image__handler_8h_a3173789b5a5a8673b3025bd014732715}{img\+Prop\+\_\+t}} $\ast$img\+Prop)
\item 
\+\_\+\+\_\+global\+\_\+\+\_\+ void \mbox{\hyperlink{seam__carving_8cu_adfda2eec2d7c896da9cda6b48a4db1b8}{compute\+Mins\+Per\+Pixel\+\_\+}} (\mbox{\hyperlink{image__handler_8h_a6239917a28b62ca5e3c3cd981f41944c}{energy\+Pixel\+\_\+t}} $\ast$energy\+Img, \mbox{\hyperlink{image__handler_8h_a3173789b5a5a8673b3025bd014732715}{img\+Prop\+\_\+t}} $\ast$img\+Prop)
\item 
\+\_\+\+\_\+global\+\_\+\+\_\+ void \mbox{\hyperlink{seam__carving_8cu_ab32d215ce4fe89c4bd0f89a49f7ded41}{compute\+Seams\+\_\+}} (\mbox{\hyperlink{image__handler_8h_a6239917a28b62ca5e3c3cd981f41944c}{energy\+Pixel\+\_\+t}} $\ast$energy\+Img, \mbox{\hyperlink{image__handler_8h_a2ecda34a1bdbf33933e5e61b64cb3fa4}{pixel\+\_\+t}} $\ast$img\+Src, \mbox{\hyperlink{image__handler_8h_afa036bc04d925ac554f8714304c2131b}{seam\+\_\+t}} $\ast$seams, \mbox{\hyperlink{image__handler_8h_a3173789b5a5a8673b3025bd014732715}{img\+Prop\+\_\+t}} $\ast$img\+Prop, bool color\+Seams=false)
\item 
\+\_\+\+\_\+global\+\_\+\+\_\+ void \mbox{\hyperlink{seam__carving_8cu_ade8581052f8f341c3b13e31d8f8bc280}{compute\+Seams2\+\_\+}} (\mbox{\hyperlink{image__handler_8h_a6239917a28b62ca5e3c3cd981f41944c}{energy\+Pixel\+\_\+t}} $\ast$energy\+Img, \mbox{\hyperlink{image__handler_8h_a2ecda34a1bdbf33933e5e61b64cb3fa4}{pixel\+\_\+t}} $\ast$img\+Src, \mbox{\hyperlink{image__handler_8h_afa036bc04d925ac554f8714304c2131b}{seam\+\_\+t}} $\ast$seams, \mbox{\hyperlink{image__handler_8h_a3173789b5a5a8673b3025bd014732715}{img\+Prop\+\_\+t}} $\ast$img\+Prop, bool color\+Seams=false)
\item 
\+\_\+\+\_\+global\+\_\+\+\_\+ void \mbox{\hyperlink{seam__carving_8cu_ad4db5bf3cd1d2f54ace834401074604d}{remove\+Seam\+\_\+}} (\mbox{\hyperlink{image__handler_8h_a6239917a28b62ca5e3c3cd981f41944c}{energy\+Pixel\+\_\+t}} $\ast$energy\+Img, int $\ast$ids\+To\+Remove, \mbox{\hyperlink{image__handler_8h_a3173789b5a5a8673b3025bd014732715}{img\+Prop\+\_\+t}} $\ast$img\+Prop, \mbox{\hyperlink{image__handler_8h_a6239917a28b62ca5e3c3cd981f41944c}{energy\+Pixel\+\_\+t}} $\ast$new\+Image\+Gray)
\item 
\+\_\+\+\_\+global\+\_\+\+\_\+ void \mbox{\hyperlink{seam__carving_8cu_ae4b0db3636d9e7682b63763f60ac0df8}{update\+Image\+Gray\+\_\+}} (\mbox{\hyperlink{image__handler_8h_a6239917a28b62ca5e3c3cd981f41944c}{energy\+Pixel\+\_\+t}} $\ast$img\+Gray, \mbox{\hyperlink{image__handler_8h_a6239917a28b62ca5e3c3cd981f41944c}{energy\+Pixel\+\_\+t}} $\ast$img\+Without\+Seam\+Gray, \mbox{\hyperlink{image__handler_8h_a3173789b5a5a8673b3025bd014732715}{img\+Prop\+\_\+t}} $\ast$img\+Prop)
\item 
\+\_\+\+\_\+global\+\_\+\+\_\+ void \mbox{\hyperlink{seam__carving_8cu_a112864138465b8bef4febb0d8cff1fe6}{update\+Image\+Colored\+\_\+}} (\mbox{\hyperlink{image__handler_8h_a2ecda34a1bdbf33933e5e61b64cb3fa4}{pixel\+\_\+t}} $\ast$img\+Src, \mbox{\hyperlink{image__handler_8h_a2ecda34a1bdbf33933e5e61b64cb3fa4}{pixel\+\_\+t}} $\ast$img\+Without\+Seam\+Src, \mbox{\hyperlink{image__handler_8h_a3173789b5a5a8673b3025bd014732715}{img\+Prop\+\_\+t}} $\ast$img\+Prop)
\item 
\+\_\+\+\_\+global\+\_\+\+\_\+ void \mbox{\hyperlink{seam__carving_8cu_a7dfaf94b9b0582f2bf46d7b992feb5cf}{remove\+Pixels\+From\+Src\+\_\+}} (\mbox{\hyperlink{image__handler_8h_a2ecda34a1bdbf33933e5e61b64cb3fa4}{pixel\+\_\+t}} $\ast$img\+Src, \mbox{\hyperlink{image__handler_8h_a2ecda34a1bdbf33933e5e61b64cb3fa4}{pixel\+\_\+t}} $\ast$new\+Img\+Src, \mbox{\hyperlink{image__handler_8h_a6239917a28b62ca5e3c3cd981f41944c}{energy\+Pixel\+\_\+t}} $\ast$img\+Gray, \mbox{\hyperlink{image__handler_8h_a3173789b5a5a8673b3025bd014732715}{img\+Prop\+\_\+t}} $\ast$img\+Prop)
\item 
\+\_\+\+\_\+global\+\_\+\+\_\+ void \mbox{\hyperlink{seam__carving_8cu_a00b96d297320c5cd720cdf352221e7d7}{ss}} (\mbox{\hyperlink{image__handler_8h_a6239917a28b62ca5e3c3cd981f41944c}{energy\+Pixel\+\_\+t}} $\ast$energy\+Img, \mbox{\hyperlink{image__handler_8h_afa036bc04d925ac554f8714304c2131b}{seam\+\_\+t}} $\ast$seams, int $\ast$res, \mbox{\hyperlink{image__handler_8h_a3173789b5a5a8673b3025bd014732715}{img\+Prop\+\_\+t}} $\ast$img\+Prop)
\item 
void \mbox{\hyperlink{seam__carving_8cu_a232c6e86e018436ef60f90f8a0dbd01e}{energy\+Map}} (\mbox{\hyperlink{image__handler_8h_a6239917a28b62ca5e3c3cd981f41944c}{energy\+Pixel\+\_\+t}} $\ast$energy\+Img, \mbox{\hyperlink{image__handler_8h_a3173789b5a5a8673b3025bd014732715}{img\+Prop\+\_\+t}} $\ast$img\+Prop)
\item 
void \mbox{\hyperlink{seam__carving_8cu_a5ec19204ba4266b4f2104383532daf4a}{find\+Seams}} (\mbox{\hyperlink{image__handler_8h_a6239917a28b62ca5e3c3cd981f41944c}{energy\+Pixel\+\_\+t}} $\ast$energy\+Img, \mbox{\hyperlink{image__handler_8h_a2ecda34a1bdbf33933e5e61b64cb3fa4}{pixel\+\_\+t}} $\ast$img\+Src, \mbox{\hyperlink{image__handler_8h_a3173789b5a5a8673b3025bd014732715}{img\+Prop\+\_\+t}} $\ast$img\+Prop, \mbox{\hyperlink{image__handler_8h_afa036bc04d925ac554f8714304c2131b}{seam\+\_\+t}} $\ast$min\+Seam, \mbox{\hyperlink{image__handler_8h_afa036bc04d925ac554f8714304c2131b}{seam\+\_\+t}} $\ast$seams, \mbox{\hyperlink{image__handler_8h_afa036bc04d925ac554f8714304c2131b}{seam\+\_\+t}} $\ast$min\+Seams\+Per\+Block)
\item 
void \mbox{\hyperlink{seam__carving_8cu_afc7c647fefb6d13ff0623f2fe8fbba3c}{remove\+Seam}} (\mbox{\hyperlink{image__handler_8h_a6239917a28b62ca5e3c3cd981f41944c}{energy\+Pixel\+\_\+t}} $\ast$img\+Gray, \mbox{\hyperlink{image__handler_8h_a6239917a28b62ca5e3c3cd981f41944c}{energy\+Pixel\+\_\+t}} $\ast$img\+Without\+Seam\+Gray, \mbox{\hyperlink{image__handler_8h_afa036bc04d925ac554f8714304c2131b}{seam\+\_\+t}} $\ast$ids\+To\+Remove, \mbox{\hyperlink{image__handler_8h_a3173789b5a5a8673b3025bd014732715}{img\+Prop\+\_\+t}} $\ast$img\+Prop)
\item 
void \mbox{\hyperlink{seam__carving_8cu_a1db08f8d6ade06ac267ecc85e503ed63}{remove\+Pixels\+From\+Src}} (\mbox{\hyperlink{image__handler_8h_a2ecda34a1bdbf33933e5e61b64cb3fa4}{pixel\+\_\+t}} $\ast$img\+Src, \mbox{\hyperlink{image__handler_8h_a2ecda34a1bdbf33933e5e61b64cb3fa4}{pixel\+\_\+t}} $\ast$img\+Without\+Seam\+Src, \mbox{\hyperlink{image__handler_8h_a6239917a28b62ca5e3c3cd981f41944c}{energy\+Pixel\+\_\+t}} $\ast$img\+Gray, \mbox{\hyperlink{image__handler_8h_a3173789b5a5a8673b3025bd014732715}{img\+Prop\+\_\+t}} $\ast$img\+Prop)
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{seam__carving_8cu_a279455946dd0389c203df8d18d07c84f}\label{seam__carving_8cu_a279455946dd0389c203df8d18d07c84f}} 
\index{seam\_carving.cu@{seam\_carving.cu}!calculateEnergy@{calculateEnergy}}
\index{calculateEnergy@{calculateEnergy}!seam\_carving.cu@{seam\_carving.cu}}
\doxysubsubsection{\texorpdfstring{calculateEnergy()}{calculateEnergy()}}
{\footnotesize\ttfamily \+\_\+\+\_\+device\+\_\+\+\_\+ void calculate\+Energy (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{image__handler_8h_a6239917a28b62ca5e3c3cd981f41944c}{energy\+Pixel\+\_\+t}} $\ast$}]{energy\+Pixel,  }\item[{\mbox{\hyperlink{image__handler_8h_a6239917a28b62ca5e3c3cd981f41944c}{energy\+Pixel\+\_\+t}} $\ast$}]{pixel,  }\item[{int}]{id,  }\item[{\mbox{\hyperlink{image__handler_8h_a3173789b5a5a8673b3025bd014732715}{img\+Prop\+\_\+t}} $\ast$}]{img\+Prop }\end{DoxyParamCaption})}

Funzione device che calcola l\textquotesingle{}energia di un pixel. Con energia si intende l\textquotesingle{}importanza di quel pixel nell\textquotesingle{}immagine rispetto ai suoi vicini. energy = sqrt(dy$^\wedge$2 + dx$^\wedge$2) dove dy = pixlex\+Sopra.\+color -\/ pixel\+Sotto.\+color dx = pixlex\+Destra.\+color -\/ pixel\+Sinistra.\+color Prestando attenzione ai casi di bordo. 


\begin{DoxyParams}{Parameters}
{\em energy\+Pixel} & L\textquotesingle{}immagine di output con l\textquotesingle{}energia calcolata\\
\hline
{\em pixel} & Il pixel di cui si vuole trovare l\textquotesingle{}energia \\
\hline
{\em id} & L\textquotesingle{}id del pixel\\
\hline
{\em img\+Prop} & Le caratteristiche dell\textquotesingle{}immagine\\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{seam__carving_8cu_adfda2eec2d7c896da9cda6b48a4db1b8}\label{seam__carving_8cu_adfda2eec2d7c896da9cda6b48a4db1b8}} 
\index{seam\_carving.cu@{seam\_carving.cu}!computeMinsPerPixel\_@{computeMinsPerPixel\_}}
\index{computeMinsPerPixel\_@{computeMinsPerPixel\_}!seam\_carving.cu@{seam\_carving.cu}}
\doxysubsubsection{\texorpdfstring{computeMinsPerPixel\_()}{computeMinsPerPixel\_()}}
{\footnotesize\ttfamily \+\_\+\+\_\+global\+\_\+\+\_\+ void compute\+Mins\+Per\+Pixel\+\_\+ (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{image__handler_8h_a6239917a28b62ca5e3c3cd981f41944c}{energy\+Pixel\+\_\+t}} $\ast$}]{energy\+Img,  }\item[{\mbox{\hyperlink{image__handler_8h_a3173789b5a5a8673b3025bd014732715}{img\+Prop\+\_\+t}} $\ast$}]{img\+Prop }\end{DoxyParamCaption})}

Kernel device che per ogni pixel indica quale sia il minimo tra i suoi possibili successori, prestanso attenzione alla sua posizione all\textquotesingle{}interno dell\textquotesingle{}immagine. 


\begin{DoxyParams}{Parameters}
{\em energy\+Img} & L\textquotesingle{}immagine di input\\
\hline
{\em img\+Prop} & Le caratteristiche dell\textquotesingle{}immagine\\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{seam__carving_8cu_ade8581052f8f341c3b13e31d8f8bc280}\label{seam__carving_8cu_ade8581052f8f341c3b13e31d8f8bc280}} 
\index{seam\_carving.cu@{seam\_carving.cu}!computeSeams2\_@{computeSeams2\_}}
\index{computeSeams2\_@{computeSeams2\_}!seam\_carving.cu@{seam\_carving.cu}}
\doxysubsubsection{\texorpdfstring{computeSeams2\_()}{computeSeams2\_()}}
{\footnotesize\ttfamily \+\_\+\+\_\+global\+\_\+\+\_\+ void compute\+Seams2\+\_\+ (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{image__handler_8h_a6239917a28b62ca5e3c3cd981f41944c}{energy\+Pixel\+\_\+t}} $\ast$}]{energy\+Img,  }\item[{\mbox{\hyperlink{image__handler_8h_a2ecda34a1bdbf33933e5e61b64cb3fa4}{pixel\+\_\+t}} $\ast$}]{img\+Src,  }\item[{\mbox{\hyperlink{image__handler_8h_afa036bc04d925ac554f8714304c2131b}{seam\+\_\+t}} $\ast$}]{seams,  }\item[{\mbox{\hyperlink{image__handler_8h_a3173789b5a5a8673b3025bd014732715}{img\+Prop\+\_\+t}} $\ast$}]{img\+Prop,  }\item[{bool}]{color\+Seams = {\ttfamily false} }\end{DoxyParamCaption})}

Kernel device che calcola un path dal bordo inferiore a quello superiore. Vengono lanciati N thread pari al numero di pixel di lunghezza 


\begin{DoxyParams}{Parameters}
{\em energy\+Img} & L\textquotesingle{}immagine di input di cui si vogliono trovare i seams\\
\hline
{\em img\+Src} & L\textquotesingle{}immagine originaria di cui si vuole, eventualmente, colorare i seam trovati.\\
\hline
{\em seams} & Il seam di output trovato\\
\hline
{\em img\+Prop} & Le caratteristiche dell\textquotesingle{}immagine trovata\\
\hline
{\em color\+Seams} & Se colorare o meno il seam\\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{seam__carving_8cu_ab32d215ce4fe89c4bd0f89a49f7ded41}\label{seam__carving_8cu_ab32d215ce4fe89c4bd0f89a49f7ded41}} 
\index{seam\_carving.cu@{seam\_carving.cu}!computeSeams\_@{computeSeams\_}}
\index{computeSeams\_@{computeSeams\_}!seam\_carving.cu@{seam\_carving.cu}}
\doxysubsubsection{\texorpdfstring{computeSeams\_()}{computeSeams\_()}}
{\footnotesize\ttfamily \+\_\+\+\_\+global\+\_\+\+\_\+ void compute\+Seams\+\_\+ (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{image__handler_8h_a6239917a28b62ca5e3c3cd981f41944c}{energy\+Pixel\+\_\+t}} $\ast$}]{energy\+Img,  }\item[{\mbox{\hyperlink{image__handler_8h_a2ecda34a1bdbf33933e5e61b64cb3fa4}{pixel\+\_\+t}} $\ast$}]{img\+Src,  }\item[{\mbox{\hyperlink{image__handler_8h_afa036bc04d925ac554f8714304c2131b}{seam\+\_\+t}} $\ast$}]{seams,  }\item[{\mbox{\hyperlink{image__handler_8h_a3173789b5a5a8673b3025bd014732715}{img\+Prop\+\_\+t}} $\ast$}]{img\+Prop,  }\item[{bool}]{color\+Seams = {\ttfamily false} }\end{DoxyParamCaption})}

Kernel device che calcola un path dal bordo inferiore a quello superiore. Vengono lanciati N thread pari al numero di pixel di lunghezza. Questa implementazione si rifà ad una prima versione dell\textquotesingle{}algoritmo. Quella più ottimizzata è compute\+Seams2\+\_\+ 


\begin{DoxyParams}{Parameters}
{\em energy\+Img} & L\textquotesingle{}immagine di input di cui si vogliono trovare i seams\\
\hline
{\em img\+Src} & L\textquotesingle{}immagine originaria di cui si vuole, eventualmente, colorare i seam trovati.\\
\hline
{\em seams} & Il seam di output trovato\\
\hline
{\em img\+Prop} & Le caratteristiche dell\textquotesingle{}immagine trovata\\
\hline
{\em color\+Seams} & Se colorare o meno il seam\\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{seam__carving_8cu_a232c6e86e018436ef60f90f8a0dbd01e}\label{seam__carving_8cu_a232c6e86e018436ef60f90f8a0dbd01e}} 
\index{seam\_carving.cu@{seam\_carving.cu}!energyMap@{energyMap}}
\index{energyMap@{energyMap}!seam\_carving.cu@{seam\_carving.cu}}
\doxysubsubsection{\texorpdfstring{energyMap()}{energyMap()}}
{\footnotesize\ttfamily void energy\+Map (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{image__handler_8h_a6239917a28b62ca5e3c3cd981f41944c}{energy\+Pixel\+\_\+t}} $\ast$}]{energy\+Img,  }\item[{\mbox{\hyperlink{image__handler_8h_a3173789b5a5a8673b3025bd014732715}{img\+Prop\+\_\+t}} $\ast$}]{img\+Prop }\end{DoxyParamCaption})}

Funzione che chiama il kernel GPU che genera la mappa dell\textquotesingle{}energia 


\begin{DoxyParams}{Parameters}
{\em energy\+Img} & L\textquotesingle{}Immagine di input di cui si vuole calcolare l\textquotesingle{}energia\\
\hline
{\em img\+Prop} & Le caratteristiche dell\textquotesingle{}immagine\\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{seam__carving_8cu_a7ff5c3644b62b996d372ab7017d5b88a}\label{seam__carving_8cu_a7ff5c3644b62b996d372ab7017d5b88a}} 
\index{seam\_carving.cu@{seam\_carving.cu}!energyMap\_@{energyMap\_}}
\index{energyMap\_@{energyMap\_}!seam\_carving.cu@{seam\_carving.cu}}
\doxysubsubsection{\texorpdfstring{energyMap\_()}{energyMap\_()}}
{\footnotesize\ttfamily \+\_\+\+\_\+global\+\_\+\+\_\+ void energy\+Map\+\_\+ (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{image__handler_8h_a6239917a28b62ca5e3c3cd981f41944c}{energy\+Pixel\+\_\+t}} $\ast$}]{energy\+Img,  }\item[{\mbox{\hyperlink{image__handler_8h_a3173789b5a5a8673b3025bd014732715}{img\+Prop\+\_\+t}} $\ast$}]{img\+Prop }\end{DoxyParamCaption})}

Kernel che genera la mappa di energia dell\textquotesingle{}immagine 


\begin{DoxyParams}{Parameters}
{\em energy\+Img} & L\textquotesingle{}immagine di input di cui calcolare l\textquotesingle{}energia\\
\hline
{\em img\+Prop} & Le caratteristiche dell\textquotesingle{}immagine di input\\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{seam__carving_8cu_a5ec19204ba4266b4f2104383532daf4a}\label{seam__carving_8cu_a5ec19204ba4266b4f2104383532daf4a}} 
\index{seam\_carving.cu@{seam\_carving.cu}!findSeams@{findSeams}}
\index{findSeams@{findSeams}!seam\_carving.cu@{seam\_carving.cu}}
\doxysubsubsection{\texorpdfstring{findSeams()}{findSeams()}}
{\footnotesize\ttfamily void find\+Seams (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{image__handler_8h_a6239917a28b62ca5e3c3cd981f41944c}{energy\+Pixel\+\_\+t}} $\ast$}]{energy\+Img,  }\item[{\mbox{\hyperlink{image__handler_8h_a2ecda34a1bdbf33933e5e61b64cb3fa4}{pixel\+\_\+t}} $\ast$}]{img\+Src,  }\item[{\mbox{\hyperlink{image__handler_8h_a3173789b5a5a8673b3025bd014732715}{img\+Prop\+\_\+t}} $\ast$}]{img\+Prop,  }\item[{\mbox{\hyperlink{image__handler_8h_afa036bc04d925ac554f8714304c2131b}{seam\+\_\+t}} $\ast$}]{min\+Seam,  }\item[{\mbox{\hyperlink{image__handler_8h_afa036bc04d925ac554f8714304c2131b}{seam\+\_\+t}} $\ast$}]{seams,  }\item[{\mbox{\hyperlink{image__handler_8h_afa036bc04d925ac554f8714304c2131b}{seam\+\_\+t}} $\ast$}]{min\+Seams\+Per\+Block }\end{DoxyParamCaption})}

Funzione host che richiama i kernel compute\+Seams e min. Questa funzione permette di trovare il seam da rimuovere mediante la computazione di tutti i seams e della risoluzione di quello minimo. 


\begin{DoxyParams}{Parameters}
{\em energy\+Img} & L\textquotesingle{}immagine di input di cui si vuole trovare il seam da rimuovere\\
\hline
{\em img\+Src} & L\textquotesingle{}immagine a colori di cui si vogliono colorare i seam\\
\hline
{\em img\+Prop} & Le caratteristiche dell\textquotesingle{}immagine di input\\
\hline
{\em min\+Seam} & Il seam con peso minore da rimuovere\\
\hline
{\em seams} & Lo spazio di memoria dedicato ai seams da trovare\\
\hline
{\em min\+Seams\+Per\+Block} & Lo spazio di memoria dedicato a tutti i minseam per ogni blocco del kernel\\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{seam__carving_8cu_a332526b32e4e044c9caa489d01f08c1d}\label{seam__carving_8cu_a332526b32e4e044c9caa489d01f08c1d}} 
\index{seam\_carving.cu@{seam\_carving.cu}!getPosition@{getPosition}}
\index{getPosition@{getPosition}!seam\_carving.cu@{seam\_carving.cu}}
\doxysubsubsection{\texorpdfstring{getPosition()}{getPosition()}}
{\footnotesize\ttfamily \+\_\+\+\_\+device\+\_\+\+\_\+ char get\+Position (\begin{DoxyParamCaption}\item[{int}]{id,  }\item[{\mbox{\hyperlink{image__handler_8h_a3173789b5a5a8673b3025bd014732715}{img\+Prop\+\_\+t}} $\ast$}]{img\+Prop }\end{DoxyParamCaption})}

Funzione device che restituisce la posizione del pixel all\textquotesingle{}interno dell\textquotesingle{}immagine, ovvero se bordo, angolo o centrale. ANGOLO BASSO SX = 0 ANGOLO ALTO SX = 1 COLONNA SX = 2 ANGOLO BASSO DX = 3 ANGOLO ALTO DX = 4 COLONNA DX = 5 RIGA DOWN = 6 RIGA UP = 7 IN MEZZO 


\begin{DoxyParams}{Parameters}
{\em id} & Id del pixel che si sta considerando\\
\hline
{\em img\+Prop} & Proprietà dell\textquotesingle{}immagine\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Il tipo di posizione del pixel all\textquotesingle{}interno dell\textquotesingle{}immagine
\end{DoxyReturn}
\mbox{\Hypertarget{seam__carving_8cu_adf160247ac82ba2c9c7057c541287aa9}\label{seam__carving_8cu_adf160247ac82ba2c9c7057c541287aa9}} 
\index{seam\_carving.cu@{seam\_carving.cu}!min@{min}}
\index{min@{min}!seam\_carving.cu@{seam\_carving.cu}}
\doxysubsubsection{\texorpdfstring{min()}{min()}}
{\footnotesize\ttfamily \+\_\+\+\_\+device\+\_\+\+\_\+ int min (\begin{DoxyParamCaption}\item[{int}]{id1,  }\item[{int}]{id2,  }\item[{\mbox{\hyperlink{image__handler_8h_a6239917a28b62ca5e3c3cd981f41944c}{energy\+Pixel\+\_\+t}} $\ast$}]{energy\+Img }\end{DoxyParamCaption})}

Funzione device che restituisce il minimo tra due pixel basato sulla loro energia 


\begin{DoxyParams}{Parameters}
{\em id1} & Pixel 1\\
\hline
{\em id2} & Pixel 2\\
\hline
{\em energy\+Img} & L?immagine con energia\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Il minimo tra id1 e id2
\end{DoxyReturn}
\mbox{\Hypertarget{seam__carving_8cu_a1db08f8d6ade06ac267ecc85e503ed63}\label{seam__carving_8cu_a1db08f8d6ade06ac267ecc85e503ed63}} 
\index{seam\_carving.cu@{seam\_carving.cu}!removePixelsFromSrc@{removePixelsFromSrc}}
\index{removePixelsFromSrc@{removePixelsFromSrc}!seam\_carving.cu@{seam\_carving.cu}}
\doxysubsubsection{\texorpdfstring{removePixelsFromSrc()}{removePixelsFromSrc()}}
{\footnotesize\ttfamily void remove\+Pixels\+From\+Src (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{image__handler_8h_a2ecda34a1bdbf33933e5e61b64cb3fa4}{pixel\+\_\+t}} $\ast$}]{img\+Src,  }\item[{\mbox{\hyperlink{image__handler_8h_a2ecda34a1bdbf33933e5e61b64cb3fa4}{pixel\+\_\+t}} $\ast$}]{img\+Without\+Seam\+Src,  }\item[{\mbox{\hyperlink{image__handler_8h_a6239917a28b62ca5e3c3cd981f41944c}{energy\+Pixel\+\_\+t}} $\ast$}]{img\+Gray,  }\item[{\mbox{\hyperlink{image__handler_8h_a3173789b5a5a8673b3025bd014732715}{img\+Prop\+\_\+t}} $\ast$}]{img\+Prop }\end{DoxyParamCaption})}

Funzione host che lancia il kernel GPU utile alla rimozione di tutti i pixel non necessari nell\textquotesingle{}immagine a colori originale. Il risultato sarà un immagine ridotta del numero di pixel inseriti dall\textquotesingle{}utente. 


\begin{DoxyParams}{Parameters}
{\em img\+Src} & L\textquotesingle{}immagine originale di input\\
\hline
{\em img\+Without\+Seam\+Src} & L\textquotesingle{}immagine finale in output\\
\hline
{\em img\+Gray} & L\textquotesingle{}immagine in GS utilizzata per rimuovere i pixel\\
\hline
{\em img\+Prop} & Le caratteristiche dell\textquotesingle{}immagine finale.\\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{seam__carving_8cu_a7dfaf94b9b0582f2bf46d7b992feb5cf}\label{seam__carving_8cu_a7dfaf94b9b0582f2bf46d7b992feb5cf}} 
\index{seam\_carving.cu@{seam\_carving.cu}!removePixelsFromSrc\_@{removePixelsFromSrc\_}}
\index{removePixelsFromSrc\_@{removePixelsFromSrc\_}!seam\_carving.cu@{seam\_carving.cu}}
\doxysubsubsection{\texorpdfstring{removePixelsFromSrc\_()}{removePixelsFromSrc\_()}}
{\footnotesize\ttfamily \+\_\+\+\_\+global\+\_\+\+\_\+ void remove\+Pixels\+From\+Src\+\_\+ (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{image__handler_8h_a2ecda34a1bdbf33933e5e61b64cb3fa4}{pixel\+\_\+t}} $\ast$}]{img\+Src,  }\item[{\mbox{\hyperlink{image__handler_8h_a2ecda34a1bdbf33933e5e61b64cb3fa4}{pixel\+\_\+t}} $\ast$}]{new\+Img\+Src,  }\item[{\mbox{\hyperlink{image__handler_8h_a6239917a28b62ca5e3c3cd981f41944c}{energy\+Pixel\+\_\+t}} $\ast$}]{img\+Gray,  }\item[{\mbox{\hyperlink{image__handler_8h_a3173789b5a5a8673b3025bd014732715}{img\+Prop\+\_\+t}} $\ast$}]{img\+Prop }\end{DoxyParamCaption})}

Kernel che elimina tutti i pixel dell\textquotesingle{}immagine a colori basandosi su quelli rimasti nell\textquotesingle{}immagine in scala di grigi. Vengono lanciati tanti thread quanti sono i pixel dell\textquotesingle{}immagine in scala di grigi. 


\begin{DoxyParams}{Parameters}
{\em img\+Src} & Immagine a colori della quale si vogliono eliminare i pixel\\
\hline
{\em new\+Img\+Src} & L\textquotesingle{}immagine di output\\
\hline
{\em img\+Gray} & L\textquotesingle{}immagine in scala di grigi di input\\
\hline
{\em img\+Prop} & Le caratteristiche delll\textquotesingle{}immagine finale\\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{seam__carving_8cu_afc7c647fefb6d13ff0623f2fe8fbba3c}\label{seam__carving_8cu_afc7c647fefb6d13ff0623f2fe8fbba3c}} 
\index{seam\_carving.cu@{seam\_carving.cu}!removeSeam@{removeSeam}}
\index{removeSeam@{removeSeam}!seam\_carving.cu@{seam\_carving.cu}}
\doxysubsubsection{\texorpdfstring{removeSeam()}{removeSeam()}}
{\footnotesize\ttfamily void remove\+Seam (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{image__handler_8h_a6239917a28b62ca5e3c3cd981f41944c}{energy\+Pixel\+\_\+t}} $\ast$}]{img\+Gray,  }\item[{\mbox{\hyperlink{image__handler_8h_a6239917a28b62ca5e3c3cd981f41944c}{energy\+Pixel\+\_\+t}} $\ast$}]{img\+Without\+Seam\+Gray,  }\item[{\mbox{\hyperlink{image__handler_8h_afa036bc04d925ac554f8714304c2131b}{seam\+\_\+t}} $\ast$}]{ids\+To\+Remove,  }\item[{\mbox{\hyperlink{image__handler_8h_a3173789b5a5a8673b3025bd014732715}{img\+Prop\+\_\+t}} $\ast$}]{img\+Prop }\end{DoxyParamCaption})}

Funzione host che lancia il kernel GPU che rimuove il seam dall\textquotesingle{}immagine. Verranno lanciati tanti thread quanti sono i pixel dell\textquotesingle{}immagine finale. Infine aggiorno l\textquotesingle{}immagine in GS 


\begin{DoxyParams}{Parameters}
{\em img\+Gray} & \\
\hline
{\em img\+Without\+Seam\+Gray} & \\
\hline
{\em ids\+To\+Remove} & \\
\hline
{\em img\+Prop} & \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{seam__carving_8cu_ad4db5bf3cd1d2f54ace834401074604d}\label{seam__carving_8cu_ad4db5bf3cd1d2f54ace834401074604d}} 
\index{seam\_carving.cu@{seam\_carving.cu}!removeSeam\_@{removeSeam\_}}
\index{removeSeam\_@{removeSeam\_}!seam\_carving.cu@{seam\_carving.cu}}
\doxysubsubsection{\texorpdfstring{removeSeam\_()}{removeSeam\_()}}
{\footnotesize\ttfamily \+\_\+\+\_\+global\+\_\+\+\_\+ void remove\+Seam\+\_\+ (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{image__handler_8h_a6239917a28b62ca5e3c3cd981f41944c}{energy\+Pixel\+\_\+t}} $\ast$}]{energy\+Img,  }\item[{int $\ast$}]{ids\+To\+Remove,  }\item[{\mbox{\hyperlink{image__handler_8h_a3173789b5a5a8673b3025bd014732715}{img\+Prop\+\_\+t}} $\ast$}]{img\+Prop,  }\item[{\mbox{\hyperlink{image__handler_8h_a6239917a28b62ca5e3c3cd981f41944c}{energy\+Pixel\+\_\+t}} $\ast$}]{new\+Image\+Gray }\end{DoxyParamCaption})}

Kernel GPU che rimuove un seam dall\textquotesingle{}immagine in GS. Questo kernel viene lanciato con un numero di thread al numero di pixel totali della nuova immagine. Ogni thread verifica se il pixel che sta considerando si trovi a destra o a sinistra (nella riga) del pixel che deve essere rimosso. Se a sinistra -\/\texorpdfstring{$>$}{>} pixel viene copiato nella stessa posizione Se a destra -\/\texorpdfstring{$>$}{>} pixel viene shiftato di una posizione a sinistra Ovviamente viene considerata anche la riga in cui viene fatta, ovvero il numero di pixel eliminati alle righe sottostanti 


\begin{DoxyParams}{Parameters}
{\em energy\+Img} & L\textquotesingle{}immagine di input dalla quale si vuole rimuovere il seam\\
\hline
{\em ids\+To\+Remove} & Il path del seam, ovvero tutti gli indici da rimuovere\\
\hline
{\em img\+Prop} & Le caratteristiche dell\textquotesingle{}immagine\\
\hline
{\em new\+Image\+Gray} & La nuova immagine con i pixel rimossi\\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{seam__carving_8cu_a00b96d297320c5cd720cdf352221e7d7}\label{seam__carving_8cu_a00b96d297320c5cd720cdf352221e7d7}} 
\index{seam\_carving.cu@{seam\_carving.cu}!ss@{ss}}
\index{ss@{ss}!seam\_carving.cu@{seam\_carving.cu}}
\doxysubsubsection{\texorpdfstring{ss()}{ss()}}
{\footnotesize\ttfamily \+\_\+\+\_\+global\+\_\+\+\_\+ void ss (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{image__handler_8h_a6239917a28b62ca5e3c3cd981f41944c}{energy\+Pixel\+\_\+t}} $\ast$}]{energy\+Img,  }\item[{\mbox{\hyperlink{image__handler_8h_afa036bc04d925ac554f8714304c2131b}{seam\+\_\+t}} $\ast$}]{seams,  }\item[{int $\ast$}]{res,  }\item[{\mbox{\hyperlink{image__handler_8h_a3173789b5a5a8673b3025bd014732715}{img\+Prop\+\_\+t}} $\ast$}]{img\+Prop }\end{DoxyParamCaption})}

\mbox{\Hypertarget{seam__carving_8cu_a112864138465b8bef4febb0d8cff1fe6}\label{seam__carving_8cu_a112864138465b8bef4febb0d8cff1fe6}} 
\index{seam\_carving.cu@{seam\_carving.cu}!updateImageColored\_@{updateImageColored\_}}
\index{updateImageColored\_@{updateImageColored\_}!seam\_carving.cu@{seam\_carving.cu}}
\doxysubsubsection{\texorpdfstring{updateImageColored\_()}{updateImageColored\_()}}
{\footnotesize\ttfamily \+\_\+\+\_\+global\+\_\+\+\_\+ void update\+Image\+Colored\+\_\+ (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{image__handler_8h_a2ecda34a1bdbf33933e5e61b64cb3fa4}{pixel\+\_\+t}} $\ast$}]{img\+Src,  }\item[{\mbox{\hyperlink{image__handler_8h_a2ecda34a1bdbf33933e5e61b64cb3fa4}{pixel\+\_\+t}} $\ast$}]{img\+Without\+Seam\+Src,  }\item[{\mbox{\hyperlink{image__handler_8h_a3173789b5a5a8673b3025bd014732715}{img\+Prop\+\_\+t}} $\ast$}]{img\+Prop }\end{DoxyParamCaption})}

Kernel che aggiorna l\textquotesingle{}immagine a colori. Vengono lanciati tanti thread quanti sono i pixel dell\textquotesingle{}immagine senza seam 


\begin{DoxyParams}{Parameters}
{\em img\+Src} & L\textquotesingle{}immagine da aggiornare\\
\hline
{\em img\+Without\+Seam\+Src} & L\textquotesingle{}immagine con seam rimosso\\
\hline
{\em img\+Prop} & Le proprietà della nuova immagine\\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{seam__carving_8cu_ae4b0db3636d9e7682b63763f60ac0df8}\label{seam__carving_8cu_ae4b0db3636d9e7682b63763f60ac0df8}} 
\index{seam\_carving.cu@{seam\_carving.cu}!updateImageGray\_@{updateImageGray\_}}
\index{updateImageGray\_@{updateImageGray\_}!seam\_carving.cu@{seam\_carving.cu}}
\doxysubsubsection{\texorpdfstring{updateImageGray\_()}{updateImageGray\_()}}
{\footnotesize\ttfamily \+\_\+\+\_\+global\+\_\+\+\_\+ void update\+Image\+Gray\+\_\+ (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{image__handler_8h_a6239917a28b62ca5e3c3cd981f41944c}{energy\+Pixel\+\_\+t}} $\ast$}]{img\+Gray,  }\item[{\mbox{\hyperlink{image__handler_8h_a6239917a28b62ca5e3c3cd981f41944c}{energy\+Pixel\+\_\+t}} $\ast$}]{img\+Without\+Seam\+Gray,  }\item[{\mbox{\hyperlink{image__handler_8h_a3173789b5a5a8673b3025bd014732715}{img\+Prop\+\_\+t}} $\ast$}]{img\+Prop }\end{DoxyParamCaption})}

Aggiornamento dell\textquotesingle{}immagine in scala di grigi, con il nuovo path rimosso. Vengono lanciati tanti thread quanti sono i pixel della nuova immagine. 


\begin{DoxyParams}{Parameters}
{\em img\+Gray} & La vecchia immagine\\
\hline
{\em img\+Without\+Seam\+Gray} & La nuova immagine senza seam\\
\hline
{\em img\+Prop} & Le caratteristiche della nuova immagine\\
\hline
\end{DoxyParams}
